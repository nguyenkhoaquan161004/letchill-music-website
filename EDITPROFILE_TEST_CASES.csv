Test Case ID,Test Case Description,PreRequisites,Step,Steps to Perform,Step Expected Result,Test Case Expected Result,Actual Result,Status,Type,Note,Platform
FT21-01,Display Name validation - empty field,"User logged in, Edit Profile screen opened","Bước 1","Clear Display Name field completely and leave it empty","Field becomes empty with focus removed","Error message 'Display Name không được trống' appears below field and Save button becomes disabled","Passed","Passed","Automation","Validates BR41 requirement - Display Name cannot be empty","Frontend"
FT21-01,Display Name validation - empty field,"User logged in, Edit Profile screen opened","Bước 2","Click Save button with empty Display Name","Save button is clicked","Error message displayed and Save operation blocked","Passed","Passed","Automation","Input validation prevents empty submission","Frontend"
FT21-01,Display Name validation - empty field,"User logged in, Edit Profile screen opened","Bước 3","Verify error message and Save button state","Error message 'Display Name không được trống' is shown, Save button is disabled","Form remains in error state, user cannot proceed","Passed","Passed","Automation","Complete validation check","Frontend"
FT21-02,Display Name validation - max length 50 chars,"User logged in, Edit Profile screen opened","Bước 1","Enter Display Name exceeding 50 characters (e.g., 51 'a' characters)","Field accepts input but shows error after blur or on save click","Error message 'Display Name không quá 50 ký tự' appears below field","Passed","Passed","Automation","Validates BR41 requirement - max 50 characters","Frontend"
FT21-02,Display Name validation - max length 50 chars,"User logged in, Edit Profile screen opened","Bước 2","Click Save button with Display Name > 50 chars","Save button is clicked","Error message displayed, Save operation blocked","Passed","Passed","Automation","Length validation prevents long names","Frontend"
FT21-02,Display Name validation - max length 50 chars,"User logged in, Edit Profile screen opened","Bước 3","Verify error message and disabled Save button state","Error message shown, Save button disabled","Form remains in error state, user must correct input","Passed","Passed","Automation","Complete validation check","Frontend"
FT21-03,Phone Number validation - invalid format,"User logged in, Edit Profile screen opened","Bước 1","Enter invalid phone number format (e.g., 'abc123' or special characters)","Field accepts input but shows error","Error message 'Số điện thoại phải là 10-11 chữ số' appears below field","Passed","Passed","Automation","Validates BR41 requirement - phone must be 10-11 digits","Frontend"
FT21-03,Phone Number validation - invalid format,"User logged in, Edit Profile screen opened","Bước 2","Click Save button with invalid phone format","Save button is clicked","Error message displayed, Save operation blocked","Passed","Passed","Automation","Format validation prevents invalid numbers","Frontend"
FT21-03,Phone Number validation - invalid format,"User logged in, Edit Profile screen opened","Bước 3","Verify error message and Save button state","Error message '10-11 chữ số' is shown, Save button disabled","Form remains in error state, user cannot proceed","Passed","Passed","Automation","Complete validation check","Frontend"
FT21-04,Bio validation - max length 150 chars,"User logged in, Edit Profile screen opened","Bước 1","Enter Bio text exceeding 150 characters (e.g., 151 'a' characters)","Field accepts input but shows error","Error message 'Bio không quá 150 ký tự' appears below field","Passed","Passed","Automation","Validates BR41 requirement - max 150 characters","Frontend"
FT21-04,Bio validation - max length 150 chars,"User logged in, Edit Profile screen opened","Bước 2","Click Save button with Bio > 150 chars","Save button is clicked","Error message displayed, Save operation blocked","Passed","Passed","Automation","Length validation prevents long bios","Frontend"
FT21-04,Bio validation - max length 150 chars,"User logged in, Edit Profile screen opened","Bước 3","Verify error message and Save button state","Error message '150 ký tự' is shown, Save button disabled","Form remains in error state, user must shorten bio","Passed","Passed","Automation","Complete validation check","Frontend"
FT21-05,No changes detected - show MSG 30,"User logged in, Edit Profile screen opened with current data populated","Bước 1","Open Edit Profile screen with all fields pre-populated with current user data","Fields display current values (Display Name, Phone, Bio, Avatar)","All input fields contain the same values as current profile data","Passed","Passed","Automation","Checks BR42 change detection logic","Frontend"
FT21-05,No changes detected - show MSG 30,"User logged in, Edit Profile screen opened with current data populated","Bước 2","Click Save button without making any changes to any field","Save button is clicked without modifying any field","System detects no changes have been made","Passed","Passed","Automation","BR42 requires detecting when user made no modifications","Frontend"
FT21-05,No changes detected - show MSG 30,"User logged in, Edit Profile screen opened with current data populated","Bước 3","Verify API is not called and MSG 30 is displayed","No API fetch calls are made, toast shows 'Không có thay đổi nào để cập nhật' (MSG 30)","System skips database update and shows no-changes message","Passed","Passed","Automation","Optimization - no DB write if nothing changed","Frontend"
FT21-06,Avatar upload success - get download URL,"User logged in, Edit Profile screen opened","Bước 1","Select an image file from device storage (JPG, PNG format)","File picker opens and user selects a valid image","Image file is selected and appears in file input","Passed","Passed","Automation","BR43 avatar processing - upload to Firebase","Frontend"
FT21-06,Avatar upload success - get download URL,"User logged in, Edit Profile screen opened","Bước 2","Make a change to Display Name and click Save (to trigger avatar upload)","Save button is clicked with new avatar selected and name changed","POST request to /api/profile/upload-avatar is sent with FormData (file + userId)","Passed","Passed","Automation","Avatar upload triggered with profile update","Frontend"
FT21-06,Avatar upload success - get download URL,"User logged in, Edit Profile screen opened","Bước 3","Verify Firebase upload succeeds and Download URL is returned","Upload response returns {ok: true} and downloadUrl property","Download URL from Firebase (e.g., 'https://firebase.com/new-avatar.jpg') is extracted and stored","Passed","Passed","Automation","BR43 step 2 - retrieve download URL from Firebase","Frontend"
FT21-06,Avatar upload success - get download URL,"User logged in, Edit Profile screen opened","Bước 4","Verify profile update includes the new avatar URL and save completes successfully","PATCH /api/users/{userId}/profile is called with downloadUrl in body and success response received","Success message 'Cập nhật thông tin thành công' (MSG 32) is displayed, profile is updated","Passed","Passed","Automation","Avatar successfully integrated into profile update","Frontend"
FT21-07,Avatar upload failure - show MSG 31,"User logged in, Edit Profile screen opened","Bước 1","Select an image file from device storage","File picker opens and user selects a valid image file","Image file is selected and appears in file input","Passed","Passed","Automation","BR43 avatar error handling","Frontend"
FT21-07,Avatar upload failure - show MSG 31,"User logged in, Edit Profile screen opened","Bước 2","Make a change to Display Name and click Save (triggering avatar upload)","Save button is clicked with new avatar selected and name changed","POST request to /api/profile/upload-avatar is sent","Passed","Passed","Automation","Avatar upload is attempted","Frontend"
FT21-07,Avatar upload failure - show MSG 31,"User logged in, Edit Profile screen opened","Bước 3","Simulate Firebase upload failure (server returns 500 or timeout)","Upload endpoint returns {ok: false} error response","Upload fails with error status (e.g., 500 Internal Server Error)","Passed","Passed","Automation","BR43 step 4 - upload failure scenario","Frontend"
FT21-07,Avatar upload failure - show MSG 31,"User logged in, Edit Profile screen opened","Bước 4","Verify error message MSG 31 is displayed and profile update is cancelled","Error toast shows 'Lỗi upload ảnh đại diện' (MSG 31), no PATCH request to /api/users/{userId}/profile is made","Profile update is abandoned, user must retry or cancel","Passed","Passed","Automation","Upload failure prevents profile update","Frontend"
FT21-08,Database update successful - update all fields,"User logged in, Edit Profile screen opened with valid data entered","Bước 1","Enter valid changes: new Display Name ('New Name'), new Phone ('0987654321'), new Bio ('Updated bio')","All three fields contain valid values that differ from current data","Input fields show the new values, no validation errors present","Passed","Passed","Automation","BR44 database update - prepare new data","Backend"
FT21-08,Database update successful - update all fields,"User logged in, Edit Profile screen opened with valid data entered","Bước 2","Click Save button to trigger profile update","Save button is clicked, form submits data","PATCH request is sent to /api/users/{testUid}/profile with body: {displayName, phone, bio, photoUrl, lastUpdated}","Passed","Passed","Automation","BR44 step 1 - submit update request","Backend"
FT21-08,Database update successful - update all fields,"User logged in, Edit Profile screen opened with valid data entered","Bước 3","Backend processes update request and updates Users collection","Backend receives PATCH request, validates all fields, executes Prisma update query","User document in database is updated with: TenNguoiDung='New Name', phone='0987654321', bio='Updated bio', timestamp set","Passed","Passed","Automation","BR44 step 2-4 - database fields updated","Backend"
FT21-08,Database update successful - update all fields,"User logged in, Edit Profile screen opened with valid data entered","Bước 4","Verify all fields are persisted in database","Query database for updated user record by testUid","displayName='New Name', phone='0987654321', bio='Updated bio' are confirmed in database","Passed","Passed","Automation","BR44 verification - data persistence","Backend"
FT21-09,Session update - update context/state after success,"User logged in, Edit Profile screen with change ready to save","Bước 1","Enter valid change to Display Name: 'Updated Name'","Field contains new value that differs from current data","Input field shows 'Updated Name', no validation errors","Passed","Passed","Automation","BR45 session sync - prepare update","Frontend"
FT21-09,Session update - update context/state after success,"User logged in, Edit Profile screen with change ready to save","Bước 2","Click Save button to submit update","Save button is clicked, form submits with valid data","PATCH request sent to /api/users/{userId}/profile with new displayName","Passed","Passed","Automation","BR45 step 1 - submit update request","Frontend"
FT21-09,Session update - update context/state after success,"User logged in, Edit Profile screen with change ready to save","Bước 3","Backend processes update and returns success with updated user data","Backend returns 200 status with response body containing updated user object: {success: true, displayName: 'Updated Name', ...}","Frontend receives success response with updated user data","Passed","Passed","Automation","BR45 step 1 - receive response","Frontend"
FT21-09,Session update - update context/state after success,"User logged in, Edit Profile screen with change ready to save","Bước 4","Frontend updates global User Context/State with new data from response","Frontend processes success response and calls context update with new user data: {displayName: 'Updated Name', ...}","User Context in app state is immediately updated, component re-renders with new data","Passed","Passed","Automation","BR45 step 1 - context updated immediately","Frontend"
FT21-10,Success notification - show MSG 32 and navigate back,"User has successfully updated profile in Edit Profile screen","Bước 1","Verify success response is received from backend after update submission","Backend returns 200 status with {success: true, message: 'Cập nhật thông tin thành công', displayName: 'Updated Name'}","Success response confirmed with MSG 32 message","Passed","Passed","Automation","BR45 step 3 - retrieve success message","Frontend"
FT21-10,Success notification - show MSG 32 and navigate back,"User has successfully updated profile in Edit Profile screen","Bước 2","Display success toast/snackbar notification with MSG 32 message","Toast component renders with message 'Cập nhật thông tin thành công' (MSG 32)","User sees success notification on screen for 2-3 seconds","Passed","Passed","Automation","BR45 step 3 - show success toast","Frontend"
FT21-10,Success notification - show MSG 32 and navigate back,"User has successfully updated profile in Edit Profile screen","Bước 3","Navigate user back to Profile View screen after successful update","onNavigateBack function is called, routing returns to ProfileView component","User is redirected from EditProfileScreen to ProfileView screen","Passed","Passed","Automation","BR45 step 2 - navigate back to Profile","Frontend"
FT21-10,Success notification - show MSG 32 and navigate back,"User has successfully updated profile in Edit Profile screen","Bước 4","Verify Profile View displays updated information from Context/State","Profile View component receives updated user data from Context (displayName, phone, bio, avatar)","All profile fields display the newly updated values confirming persistence","Passed","Passed","Automation","BR45 verification - updated data visible in profile","Frontend"
