Test Case ID,Test Case Description,PreRequisites,Step,Steps to Perform,Step Expected Result,Test Case Expected Result,Actual Result,Status,Type,Note,Platform
FT04-01,Empty keyword validation - should not search,"User on Search screen, keyword field empty","Bước 1","Render SearchingScreen component with empty searchQuery=''","Component is rendered with empty search query","Search input field is empty with no text","Passed","Passed","Automation","BR7 Input validation - empty keyword","Frontend"
FT04-01,Empty keyword validation - should not search,"User on Search screen, keyword field empty","Bước 2","Verify API is NOT called when keyword is empty","No search request is triggered automatically","fetch is not invoked when keyword is empty string","Passed","Passed","Automation","BR7 step 1 - abort search on empty keyword","Frontend"
FT04-02,Whitespace only validation - should abort search,"User on Search screen, keyword contains only spaces","Bước 1","Render SearchingScreen component with whitespace-only searchQuery='   '","Component is rendered with whitespace-only search query","Search input field shows only spaces","Passed","Passed","Automation","BR7 Input validation - whitespace detection","Frontend"
FT04-02,Whitespace only validation - should abort search,"User on Search screen, keyword contains only spaces","Bước 2","Component processes the whitespace-only keyword","Component treats whitespace-only as empty query","Internal state recognizes whitespace-only as invalid input","Passed","Passed","Automation","BR7 step 1 - detect whitespace-only input","Frontend"
FT04-02,Whitespace only validation - should abort search,"User on Search screen, keyword contains only spaces","Bước 3","Verify API is NOT called for whitespace-only keyword","No search request is made for whitespace input","fetch is not called when keyword is whitespace only","Passed","Passed","Automation","BR7 step 2 - abort search on whitespace","Frontend"
FT04-03,Search with valid keyword - call API,"User on Search screen, valid keyword entered","Bước 1","Prepare mock API response with search results","API is mocked to return [{id: 1, name: 'Beatles Song', artist: 'The Beatles', avatarUrl: 'url'}]","Mock fetch returns successful response","Passed","Passed","Automation","BR8 Search logic - setup mock data","Frontend"
FT04-03,Search with valid keyword - call API,"User on Search screen, valid keyword entered","Bước 2","Render SearchingScreen with valid searchQuery='Beatles'","Component is rendered with valid search keyword","Search input field shows 'Beatles'","Passed","Passed","Automation","BR8 step 1 - component rendered with keyword","Frontend"
FT04-03,Search with valid keyword - call API,"User on Search screen, valid keyword entered","Bước 3","Verify API is called with correct keyword parameter","fetch is called with API endpoint containing query='Beatles'","API call includes search keyword in query parameters","Passed","Passed","Automation","BR8 step 2 - API called with keyword","Frontend"
FT04-04,Case-insensitive search - valid keyword,"User on Search screen, searches with different case","Bước 1","Prepare mock API response with case variations","API returns results with mixed case: 'Imagine', 'BEATLES SONG', 'the beatles'","Mock data includes various case combinations","Passed","Passed","Automation","BR8 Case-insensitive search - setup","Frontend"
FT04-04,Case-insensitive search - valid keyword,"User on Search screen, searches with different case","Bước 2","Render SearchingScreen with lowercase searchQuery='beatles'","Component is rendered with lowercase keyword","Search input shows 'beatles' (lowercase)","Passed","Passed","Automation","BR8 step 1 - component with lowercase","Frontend"
FT04-04,Case-insensitive search - valid keyword,"User on Search screen, searches with different case","Bước 3","Verify API is called with the lowercase keyword","fetch is called to search with keyword 'beatles'","API endpoint contains query='beatles'","Passed","Passed","Automation","BR8 step 2 - API called with lowercase keyword","Frontend"
FT04-04,Case-insensitive search - valid keyword,"User on Search screen, searches with different case","Bước 4","Verify backend performs case-insensitive matching","Backend search matches 'BEATLES SONG' and 'the beatles' with query 'beatles'","Results include both uppercase and lowercase variations","Passed","Passed","Automation","BR8 step 3 - backend case-insensitive matching","Frontend"
FT04-05,Empty search results - display MSG9,"User searches for keyword with no matching results","Bước 1","Setup API mock to return 404 error","fetch is configured to return {ok: false, status: 404}","API response indicates no results found","Passed","Passed","Automation","BR8 Empty result handling - setup","Frontend"
FT04-05,Empty search results - display MSG9,"User searches for keyword with no matching results","Bước 2","Render SearchingScreen with searchQuery='nonexistent'","Component is rendered with non-matching keyword","Search input shows 'nonexistent'","Passed","Passed","Automation","BR8 step 1 - component with no-match keyword","Frontend"
FT04-05,Empty search results - display MSG9,"User searches for keyword with no matching results","Bước 3","Component receives 404 error from API","API call returns {ok: false, status: 404}","fetch response indicates empty results","Passed","Passed","Automation","BR8 step 2 - API returns 404 for no results","Frontend"
FT04-05,Empty search results - display MSG9,"User searches for keyword with no matching results","Bước 4","Component displays empty results message (MSG9)","Empty results message is rendered on screen","User sees: 'Không tìm thấy bài hát' or similar (MSG9)","Passed","Passed","Automation","BR8 step 3 - show no results message","Frontend"
FT04-06,Display search results - render list,"User searches and receives multiple matching results","Bước 1","Prepare mock API with two Beatles songs","API returns [{id: 1, name: 'Yesterday', artist: 'The Beatles', avatarUrl: 'url1'}, {id: 2, name: 'Help', artist: 'The Beatles', avatarUrl: 'url2'}]","Mock data includes 2 song entries","Passed","Passed","Automation","BR8 Display results - setup mock data","Frontend"
FT04-06,Display search results - render list,"User searches and receives multiple matching results","Bước 2","Render SearchingScreen with searchQuery='Beatles'","Component is rendered with Beatles keyword","Search input shows 'Beatles'","Passed","Passed","Automation","BR8 step 1 - render component with keyword","Frontend"
FT04-06,Display search results - render list,"User searches and receives multiple matching results","Bước 3","Wait for API to return results","fetch is called and resolves with song list","API response with 2 songs is received","Passed","Passed","Automation","BR8 step 2 - receive search results","Frontend"
FT04-06,Display search results - render list,"User searches and receives multiple matching results","Bước 4","Verify first song is rendered with thumbnail, title, and artist","Screen displays: 'Yesterday' text and artist 'The Beatles'","Result item shows: thumbnail image, title 'Yesterday', artist 'The Beatles'","Passed","Passed","Automation","BR8 step 3 - display first result with metadata","Frontend"
FT04-06,Display search results - render list,"User searches and receives multiple matching results","Bước 5","Verify second song is rendered with thumbnail, title, and artist","Screen displays: 'Help' text and artist 'The Beatles'","Result item shows: thumbnail image, title 'Help', artist 'The Beatles'","Passed","Passed","Automation","BR8 step 4 - display second result with metadata","Frontend"
FT04-07,Multiple search matches - render all,"User searches for keyword matching multiple items","Bước 1","Prepare mock API with three Beatles songs","API returns 3 songs: Song 1, Song 2, Song 3 all with Beatles reference","Mock data includes 3 entries","Passed","Passed","Automation","BR8 Multiple results - setup mock data","Frontend"
FT04-07,Multiple search matches - render all,"User searches for keyword matching multiple items","Bước 2","Render SearchingScreen with searchQuery='Beatles'","Component is rendered with Beatles search","Input shows 'Beatles'","Passed","Passed","Automation","BR8 step 1 - render component","Frontend"
FT04-07,Multiple search matches - render all,"User searches for keyword matching multiple items","Bước 3","Wait for API and verify all three results are rendered","Three result items appear on screen","All 3 songs are visible: Song 1, Song 2, Song 3","Passed","Passed","Automation","BR8 step 2 - all results rendered in list","Frontend"
FT04-08,Song item selection - click on song,"User clicks on a search result song","Bước 1","Prepare mock API with one song result","API returns [{id: 123, name: 'Test Song', artist: 'Test Artist', avatarUrl: 'url1'}]","Mock data with song ID 123","Passed","Passed","Automation","BR9 Item selection - setup mock data","Frontend"
FT04-08,Song item selection - click on song,"User clicks on a search result song","Bước 2","Render SearchingScreen with searchQuery='Test'","Component is rendered with Test keyword","Input shows 'Test'","Passed","Passed","Automation","BR9 step 1 - render component with keyword","Frontend"
FT04-08,Song item selection - click on song,"User clicks on a search result song","Bước 3","Wait for results and verify 'Test Song' is rendered","Screen displays song name 'Test Song'","Result item is visible with song title","Passed","Passed","Automation","BR9 step 2 - display search result","Frontend"
FT04-08,Song item selection - click on song,"User clicks on a search result song","Bước 4","Click on the 'Test Song' result item","User clicks on the song result","Click event is triggered on song element","Passed","Passed","Automation","BR9 step 3 - user clicks song item","Frontend"
FT04-08,Song item selection - click on song,"User clicks on a search result song","Bước 5","Verify onCurrentSongId callback is called with song ID 123","onCurrentSongId callback function is invoked","Callback receives song ID: 123","Passed","Passed","Automation","BR9 step 4 - callback triggered with song ID","Frontend"
FT04-09,Retrieve song metadata on selection,"User selects a song with complete metadata","Bước 1","Prepare mock API with complete song metadata","API returns {id: 456, name: 'Imagine', artist: 'John Lennon', avatarUrl: 'url', link: 'url.mp3', lyric: 'lyrics...', genre: 'Rock', releaseDate: '1971-09-09'}","Mock includes all metadata fields","Passed","Passed","Automation","BR9 Metadata retrieval - setup mock data","Frontend"
FT04-09,Retrieve song metadata on selection,"User selects a song with complete metadata","Bước 2","Render SearchingScreen with searchQuery='Imagine'","Component is rendered with Imagine keyword","Input shows 'Imagine'","Passed","Passed","Automation","BR9 step 1 - render component","Frontend"
FT04-09,Retrieve song metadata on selection,"User selects a song with complete metadata","Bước 3","Wait for results and verify 'Imagine' is displayed","Screen displays 'Imagine' song result","Song result item is visible","Passed","Passed","Automation","BR9 step 2 - display song result","Frontend"
FT04-09,Retrieve song metadata on selection,"User selects a song with complete metadata","Bước 4","Click on the 'Imagine' song result","Click event is triggered on song element","Click handler is invoked","Passed","Passed","Automation","BR9 step 3 - user clicks song","Frontend"
FT04-09,Retrieve song metadata on selection,"User selects a song with complete metadata","Bước 5","Verify onCurrentSongId is called with ID 456","Callback is invoked with song ID 456","onCurrentSongId receives: 456","Passed","Passed","Automation","BR9 step 4 - metadata retrieved and callback invoked","Frontend"
FT04-15,Empty query parameter validation backend,"Search API receives empty query parameter","Bước 1","Mock search functions to return null/empty results","searchInMeilisearch, searchInPostgres, searchInJamendo return null/empty","All search sources configured to return no results","Passed","Passed","Automation","BR7 Empty query validation backend - setup","Backend"
FT04-15,Empty query parameter validation backend,"Search API receives empty query parameter","Bước 2","Send GET request to /api/search with query=''","GET /api/search?query='' is sent","API receives empty query parameter","Passed","Passed","Automation","BR7 step 1 - send empty query","Backend"
FT04-15,Empty query parameter validation backend,"Search API receives empty query parameter","Bước 3","Verify API response status","API returns either 200 or 404 status","Response status is valid (200 or 404)","Passed","Passed","Automation","BR7 step 2 - API handles empty gracefully","Backend"
FT04-16,Whitespace only query validation backend,"Search API receives whitespace-only query parameter","Bước 1","Mock search functions to return null/empty results","searchInMeilisearch, searchInPostgres, searchInJamendo return null/empty","Search sources configured for no results","Passed","Passed","Automation","BR7 Whitespace query validation backend - setup","Backend"
FT04-16,Whitespace only query validation backend,"Search API receives whitespace-only query parameter","Bước 2","Send GET request to /api/search with query='   '","GET /api/search?query='   ' is sent with whitespace only","API receives whitespace-only query parameter","Passed","Passed","Automation","BR7 step 1 - send whitespace query","Backend"
FT04-16,Whitespace only query validation backend,"Search API receives whitespace-only query parameter","Bước 3","Verify API response status","API returns either 200 or 404 status","Response status is valid (handles whitespace)","Passed","Passed","Automation","BR7 step 2 - API handles whitespace gracefully","Backend"
FT04-17,Meilisearch results - format correctly,"Backend search from Meilisearch returns formatted results","Bước 1","Setup Meilisearch mock with song data","searchInMeilisearch returns {hits: [{id: 1, name: 'Test Song', artist: 'Test Artist', image: 'url1', audio: 'audio1.mp3', ...}]}","Mock returns formatted Meilisearch results","Passed","Passed","Automation","BR8 Meilisearch results - setup","Backend"
FT04-17,Meilisearch results - format correctly,"Backend search from Meilisearch returns formatted results","Bước 2","Send GET request with valid query='Test'","GET /api/search?query='Test' is sent","API receives search query","Passed","Passed","Automation","BR8 step 1 - send search query","Backend"
FT04-17,Meilisearch results - format correctly,"Backend search from Meilisearch returns formatted results","Bước 3","Verify API calls searchInMeilisearch and returns formatted results","API returns status 200 with array of results","Response body is array of objects","Passed","Passed","Automation","BR8 step 2 - API queries Meilisearch","Backend"
FT04-17,Meilisearch results - format correctly,"Backend search from Meilisearch returns formatted results","Bước 4","Verify result has required fields: id, name, artist, avatarUrl, link","Response body[0] contains all required properties","Each result has: id, name, artist, avatarUrl, link","Passed","Passed","Automation","BR8 step 3 - results properly formatted","Backend"
FT04-18,PostgreSQL results - fallback when Meilisearch empty,"Backend falls back to PostgreSQL when Meilisearch returns null","Bước 1","Setup mocks: Meilisearch returns null, PostgreSQL returns results","searchInMeilisearch=null, searchInPostgres returns [{id: 2, name: 'DB Song', ...}]","Meilisearch configured to return null","Passed","Passed","Automation","BR8 PostgreSQL fallback - setup","Backend"
FT04-18,PostgreSQL results - fallback when Meilisearch empty,"Backend falls back to PostgreSQL when Meilisearch returns null","Bước 2","Send GET request with query='DB'","GET /api/search?query='DB' is sent","API receives search query","Passed","Passed","Automation","BR8 step 1 - send search query","Backend"
FT04-18,PostgreSQL results - fallback when Meilisearch empty,"Backend falls back to PostgreSQL when Meilisearch returns null","Bước 3","Verify API falls back to PostgreSQL since Meilisearch is null","API calls searchInPostgres and returns results","Response status 200 with result array","Passed","Passed","Automation","BR8 step 2 - fallback to PostgreSQL","Backend"
FT04-18,PostgreSQL results - fallback when Meilisearch empty,"Backend falls back to PostgreSQL when Meilisearch returns null","Bước 4","Verify results from PostgreSQL are formatted correctly","Response body[0] contains: id: 2, name: 'DB Song', artist: 'DB Artist'","Results properly formatted from PostgreSQL source","Passed","Passed","Automation","BR8 step 3 - PostgreSQL results formatted","Backend"
FT04-19,Jamendo results fallback,"Backend falls back to Jamendo when local sources empty","Bước 1","Setup mocks: Meilisearch=null, PostgreSQL=[], Jamendo returns results","searchInMeilisearch=null, searchInPostgres=[], searchInJamendo returns [{id: 3, name: 'Jamendo Song', ...}]","All mocks configured for Jamendo fallback","Passed","Passed","Automation","BR8 Jamendo fallback - setup","Backend"
FT04-19,Jamendo results fallback,"Backend falls back to Jamendo when local sources empty","Bước 2","Send GET request with query='Jamendo'","GET /api/search?query='Jamendo' is sent","API receives search query","Passed","Passed","Automation","BR8 step 1 - send search query","Backend"
FT04-19,Jamendo results fallback,"Backend falls back to Jamendo when local sources empty","Bước 3","Verify API falls back to Jamendo since local sources are empty","API calls searchInJamendo and returns results","Response status 200 with result array","Passed","Passed","Automation","BR8 step 2 - fallback to Jamendo","Backend"
FT04-19,Jamendo results fallback,"Backend falls back to Jamendo when local sources empty","Bước 4","Verify results from Jamendo are formatted correctly","Response body[0] contains song data from Jamendo","Results include: id, name, artist, avatarUrl, link","Passed","Passed","Automation","BR8 step 3 - Jamendo results formatted","Backend"
FT04-20,No search results - return 404,"Backend returns error when no results found in any source","Bước 1","Setup mocks: all sources return null/empty","searchInMeilisearch=null, searchInPostgres=[], searchInJamendo=null","All search sources configured to return no results","Passed","Passed","Automation","BR8 No results handling - setup","Backend"
FT04-20,No search results - return 404,"Backend returns error when no results found in any source","Bước 2","Send GET request with query='nonexistent'","GET /api/search?query='nonexistent' is sent","API receives search query that will have no results","Passed","Passed","Automation","BR8 step 1 - send no-match query","Backend"
FT04-20,No search results - return 404,"Backend returns error when no results found in any source","Bước 3","Verify API returns 404 or 200 with empty array","API response status is 404 or 200 (implementation dependent)","Response indicates no results found","Passed","Passed","Automation","BR8 step 2 - API returns no-results response","Backend"
FT04-20,No search results - return 404,"Backend returns error when no results found in any source","Bước 4","If 404: verify error property is set to 'SONG_NOT_FOUND'","Error response has error property","Response body contains: {error: 'SONG_NOT_FOUND'} or empty array","Passed","Passed","Automation","BR8 step 3 - proper error response","Backend"
FT04-21,Case-insensitive search backend,"Backend performs case-insensitive search matching","Bước 1","Setup Meilisearch mock with uppercase song","searchInMeilisearch returns {hits: [{id: 4, name: 'UPPERCASE SONG', artist: 'artist', ...}]}","Mock returns uppercase song data","Passed","Passed","Automation","BR8 Case-insensitive search - setup","Backend"
FT04-21,Case-insensitive search backend,"Backend performs case-insensitive search matching","Bước 2","Send GET request with lowercase query='uppercase'","GET /api/search?query='uppercase' is sent","API receives lowercase search term","Passed","Passed","Automation","BR8 step 1 - send lowercase query","Backend"
FT04-21,Case-insensitive search backend,"Backend performs case-insensitive search matching","Bước 3","Verify API returns matching uppercase song","API returns status 200 with matching result","Response includes: {id: 4, name: 'UPPERCASE SONG'}","Passed","Passed","Automation","BR8 step 2 - case-insensitive match found","Backend"
FT04-21,Case-insensitive search backend,"Backend performs case-insensitive search matching","Bước 4","Verify matching works regardless of case","Result with 'UPPERCASE' matches query 'uppercase'","Case-insensitive matching confirmed in response","Passed","Passed","Automation","BR8 step 3 - case-insensitivity verified","Backend"
FT04-22,Retrieve song URL metadata,"Search results include song URL (link field)","Bước 1","Setup Meilisearch mock with song audio URL","searchInMeilisearch returns {hits: [{id: 5, name: 'URL Song', audio: 'https://example.com/audio.mp3', ...}]}","Mock includes audio URL in song data","Passed","Passed","Automation","BR9 Song URL metadata - setup","Backend"
FT04-22,Retrieve song URL metadata,"Search results include song URL (link field)","Bước 2","Send GET request with query='URL'","GET /api/search?query='URL' is sent","API receives search query","Passed","Passed","Automation","BR9 step 1 - send search query","Backend"
FT04-22,Retrieve song URL metadata,"Search results include song URL (link field)","Bước 3","Verify API returns formatted result with link property","API response includes link/url field","Result has: {link: 'https://example.com/audio.mp3'}","Passed","Passed","Automation","BR9 step 2 - song URL included in result","Backend"
FT04-23,Complete song metadata retrieval,"Search result includes all required song metadata fields","Bước 1","Setup Meilisearch mock with complete song metadata","searchInMeilisearch returns full song object with id, name, artist, image, audio, lyric, genre, composer, releaseDate, play","Mock includes all metadata fields","Passed","Passed","Automation","BR9 Complete metadata - setup","Backend"
FT04-23,Complete song metadata retrieval,"Search result includes all required song metadata fields","Bước 2","Send GET request with query='Complete'","GET /api/search?query='Complete' is sent","API receives search query","Passed","Passed","Automation","BR9 step 1 - send search query","Backend"
FT04-23,Complete song metadata retrieval,"Search result includes all required song metadata fields","Bước 3","Verify API returns formatted result with all fields","API response status 200 with complete result object","Result includes: id, name, artist, avatarUrl, link, lyric, genre, composer, releaseDate, play","Passed","Passed","Automation","BR9 step 2 - all metadata fields present","Backend"
FT04-23,Complete song metadata retrieval,"Search result includes all required song metadata fields","Bước 4","Verify each metadata field has correct value","All fields match mock data: id=6, name='Complete Song', artist='Complete Artist', etc.","Metadata values correctly mapped and returned","Passed","Passed","Automation","BR9 step 3 - metadata values correct","Backend"
FT04-24,Multiple search results handling,"API returns multiple matching songs in single search","Bước 1","Setup Meilisearch mock with three songs","searchInMeilisearch returns {hits: [{id: 7, name: 'Song A', ...}, {id: 8, name: 'Song B', ...}, {id: 9, name: 'Song C', ...}]}","Mock includes 3 song entries","Passed","Passed","Automation","BR8 Multiple results - setup","Backend"
FT04-24,Multiple search results handling,"API returns multiple matching songs in single search","Bước 2","Send GET request with query='Song'","GET /api/search?query='Song' is sent","API receives search query matching multiple songs","Passed","Passed","Automation","BR8 step 1 - send multi-match query","Backend"
FT04-24,Multiple search results handling,"API returns multiple matching songs in single search","Bước 3","Verify API returns array with all three matching songs","API response status 200 with result array of length 3","Response body contains 3 song objects","Passed","Passed","Automation","BR8 step 2 - all matches returned in array","Backend"
FT04-24,Multiple search results handling,"API returns multiple matching songs in single search","Bước 4","Verify each song in array has correct data","First: {id: 7, name: 'Song A'}, Second: {id: 8, name: 'Song B'}, Third: {id: 9, name: 'Song C'}","All songs properly formatted: Song A, Song B, Song C","Passed","Passed","Automation","BR8 step 3 - multiple results correctly formatted","Backend"